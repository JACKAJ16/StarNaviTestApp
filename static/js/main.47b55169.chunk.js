(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{18:function(e,t,a){e.exports=a(44)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n,l=a(0),i=a.n(l),s=a(17),o=a.n(s),r=(a(23),a(4)),d=a(5),u=a(2),c=a(6),h=a(7),m=(a(24),a(25),function(e){return i.a.createElement("div",{style:{width:e.style},className:"buttons"},e.arr.map((function(t,a){return i.a.createElement("button",{onClick:e.handlePlayerClick,key:t.toString(),id:a+1})})))}),p=(a(26),a(3)),y=a.n(p),g=function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;y.a.get("https://starnavi-frontend-test-task.herokuapp.com/winners").then((function(t){return e.setState({data:t.data})}))}},{key:"render",value:function(){var e=this.state.data;return i.a.createElement("div",{className:"leaderboard"},i.a.createElement("h1",null,"Leaderboard"),i.a.createElement("ul",null,e.slice(e.length-15,e.length).map((function(e){return i.a.createElement("li",{key:e.id},i.a.createElement("div",null,e.winner),i.a.createElement("div",null,e.date))}))))}}]),a}(i.a.Component),f=0,v=[],b=[],k=function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={computer:0,player:0,id:"",field:"",style:"",data:"",disabled:!0,option:!1,play:"Play",delay:"",value:"PickMode"},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleRandom=n.handleRandom.bind(Object(u.a)(n)),n.handlePlayerClick=n.handlePlayerClick.bind(Object(u.a)(n)),n.handleRed=n.handleRed.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.inputHandle=n.inputHandle.bind(Object(u.a)(n)),n.handleNewGame=n.handleNewGame.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get("https://starnavi-frontend-test-task.herokuapp.com/game-settings").then((function(t){return e.setState({data:t.data})})),this.handleDate();for(var t=1;t<26;t++)b.push(t)}},{key:"handleDate",value:function(){var e=new Date,t=e.getDate(),a=e.getFullYear(),n=e.toLocaleString("en-us",{month:"long"}),l=(e.getMinutes()<10?"0":"")+e.getMinutes(),i=(e.getHours()<10?"0":"")+e.getHours();e=i+":"+l+" "+t+" "+n+" "+a,this.setState({date:e})}},{key:"handleSubmit",value:function(e){f=0,e.preventDefault(),this.randomNums(),n=setInterval(this.handleRandom,2*this.state.delay),this.setState({disabled:!0,option:!0,computer:0,player:0,winner:""}),this.handleNewGame()}},{key:"handleNewGame",value:function(){for(var e=1;e<b.length;e++)"lightblue"!==document.getElementById(e).style.background&&"red"!==document.getElementById(e).style.background&&"green"!==document.getElementById(e).style.background||(document.getElementById(e).style.background="#f9f9f9")}},{key:"randomNums",value:function(){for(var e=[],t=1;t<=this.state.field;t++)e.push(t);for(var a=e.length,n=0;a--;)n=Math.floor(Math.random()*(a+1)),v.push(e[n]),e.splice(n,1)}},{key:"handleRandom",value:function(){f++;var e=v[f];this.state.computer<this.state.field/2+.5&&this.state.player<this.state.field/2+.5&&(this.setState({id:e},(function(){document.getElementById(this.state.id?this.state.id:1).style.background="lightblue"})),setTimeout(this.handleRed,this.state.delay)),(this.state.computer>this.state.field/2||this.state.player>this.state.field/2)&&(setTimeout((function(){clearInterval(n)}),0),this.setState({winner:this.state.computer>this.state.player?"Computer":this.state.playerName,play:"Play again",disabled:!1,option:!1}),this.handlePost())}},{key:"handleRed",value:function(){"lightblue"===document.getElementById(this.state.id).style.background&&(document.getElementById(this.state.id).style.background="red",this.setState({computer:this.state.computer+1}),console.log("Computer: "+this.state.computer))}},{key:"handlePost",value:function(){y.a.post("https://starnavi-frontend-test-task.herokuapp.com/winners",{winner:this.state.winner,date:this.state.date}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"handlePlayerClick",value:function(e){var t=this;"lightblue"===document.getElementById(e.target.id).style.background&&(document.getElementById(e.target.id).style.background="green",this.setState({player:this.state.player+1,computer:this.state.computer},(function(){console.log("Player: "+t.state.player)})))}},{key:"handleChange",value:function(e){var t=this;f=0,this.setState({field:this.state.data[e.target.value].field*this.state.data[e.target.value].field,delay:this.state.data[e.target.value].delay,disabled:!1,value:e.target.value},(function(){if(void 0!==b[0]){b.splice(0,b.length);for(var e=1;e<=t.state.field;e++)b.push(e)}25===t.state.field?t.setState({style:"205px"}):100===t.state.field?t.setState({style:"405px"}):225===t.state.field&&t.setState({style:"605px"})})),this.handleNewGame(),v.splice(0,v.length)}},{key:"inputHandle",value:function(e){this.setState({playerName:e.target.value})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"form-container"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("select",{value:this.state.value,disabled:this.state.option,onChange:this.handleChange},i.a.createElement("option",{value:"PickMode",hidden:!0},"Pick game mode"),i.a.createElement("option",{value:"easyMode"},"Easy"),i.a.createElement("option",{value:"normalMode"},"Normal"),i.a.createElement("option",{value:"hardMode"},"Hard")),i.a.createElement("input",{onChange:this.inputHandle,required:!0,disabled:this.state.option,type:"text",placeholder:"Enter your name"}),i.a.createElement("button",{className:"play",disabled:this.state.disabled},this.state.play)),i.a.createElement("p",null,"Winner is: ",this.state.winner),i.a.createElement(m,{style:this.state.style,arr:b,handlePlayerClick:this.handlePlayerClick})),i.a.createElement(g,null))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.47b55169.chunk.js.map